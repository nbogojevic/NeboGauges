<!-- 
Skyhawk Flight Instruments (https://github.com/uw-ray/Skyhawk-Flight-Instruments)
By Raymond Blaga (raymond.blaga@gmail.com), Edward Hanna (edward.hanna@senecacollege.ca), Pavlo Kuzhel (pavlo.kuzhel@senecacollege.ca)

Forked from jQuery Flight Indicators (https://github.com/sebmatton/jQuery-Flight-Indicators)
By SÃ©bastien Matton (seb_matton@hotmail.com)

Published under GPLv3 License.
-->

<!DOCTYPE html>
<html>

<head>
    <title>Heading Indicator</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
    <script src="js/jquery.flightindicators.js"></script>
    <link rel="stylesheet" type="text/css" href="css/flightindicators.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
</head>

<body>
	<div class="gauge">
		<span id="heading"  ></span>
	</div>
    <div id="gaugeSelector"></div>

	<script src="/simulator.js"></script>
	<script src="dashboard.js"></script>
    <script type="text/javascript">

		var heading = $.flightIndicator('#heading', 'heading', { size:$im.maxSize, heading:12, 'beacononeshow': true, 'beacontwoshow': true});
        
        function clickHeading(e) {
            if (e.offsetX < 827*$im.maxSize/947 && e.offsetX > 727*$im.maxSize/947) {
                if (e.offsetY < 827*$im.maxSize/947 && e.offsetY > 727*$im.maxSize/947) {
                    console.log(""+e.offsetX + " " +e.offsetY + " " +e.target.clientWidth+ " " +e.target.clientHeight+" "+$im.maxSize);
                }
            }
        }
        $("#heading").click(clickHeading);
		$im.readResult = (data) => {
            heading.setHeading(data.heading);
            heading.setBeaconOne(data.navRadial, true);
            heading.setBeaconTwo(data.adfRadial, true);
		};
	</script>
</body>

</html>














